<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <title>Condutor Dashboard</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-j1CDi7MgGQ12Z7Qab0qlWQ/Qqz24Gc6BM0thvEMVjHnfYGF0rmFCozFSxQBxwHKO" crossorigin="anonymous"></script>

    <link rel="stylesheet" href="../styles/base.css">
    
    <link rel="stylesheet" href="../styles/condutorDashboard.css">
    <link rel="stylesheet" href="../styles/modals.css">
    
</head>
<body>
    <header>
        <div class="logo">
            <img src="../swerve_city.png" alt="" id="logo-img">
        </div>
    </header>
    <nav class="navbar">
        <a class="nav-link" href="login.html" id="nav-login-link">Login</a>
    </nav>

    <main>
        <div class="dashboard-box">
            <div class="dashboard-content">
                <div class="main-section">
                    <p class="welcome" id="welcome-msg">Bem-vindo,</p>
                    <div class="section-header">
                        <h2>Viagens para hoje</h2>

                        <input type="date" name="calendar" id="adminCalendar" class="create-btn">

                      <button type="button" class="create-btn" data-bs-toggle="modal" data-bs-target="#filterTripsModal">
                          Filtrar
                      </button>
                    </div>               

                    <table class="main-table">
                        <thead>
                            <tr>
                                <th>ID</th>
                                <th>Horas</th>
                                <th>Rota</th>
                                <th>Veículo</th>
                                <th>Trajetos Alternativos</th>
                            </tr>
                        </thead>

                        <tbody id="condutor-trips-tbody">
                            
                        </tbody>
                    </table>
                </div>
            </div>

            <div class="section-row">
                <div class="section-header">
                    <h3>Trajetos Alternativos</h3>
                </div>

                <table class="main-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th class="text">entre..</th>
                            <th>Paragem</th>
                            <th class="text">e</th>
                            <th>Paragem</th>
                            <th class="text">seguir..</th>
                            <th>Caminho</th>
                        </tr>
                    </thead>
                    <tbody id="condutor-alttrajectories-tbody">
                        
                    </tbody>
                </table>
            </div>

            <div class="section-row">
                <div class="section-header">
                    <h3>Pedidos</h3>
                    <button id="btn-create-request" class="create-btn">Novo Pedido</button>
                </div>
                <table class="main-table">
                    <thead>
                        <tr>
                            <th>ID</th>
                            <th>Categoria</th>
                            <th>Título</th>
                            <th>Mensagem</th>
                            <th>Estado</th>
                            <th>Resposta</th>
                        </tr>
                    </thead>
                    <tbody id="condutor-requests-tbody">
                        
                    </tbody>
                </table>
            </div>
            
            <!-- Modal for creating a request -->
            <div class="modal fade" id="requestModal" tabindex="-1" aria-labelledby="requestModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <form id="request-form" class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="requestModalLabel">Novo Pedido</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                  </div>
                  <div class="modal-body">
                    <div class="mb-3">
                      <label for="request-category" class="form-label">Categoria</label>
                      <select id="request-category" class="form-select" required>
                        <option value="">Escolher...</option>
                        <option value="time_off">Folga</option>
                        <option value="meeting">Reunião</option>
                        <option value="feature">Sugestão</option>
                        <option value="route_change">Alteração de Rota</option>
                        <option value="other">Outro</option>
                      </select>
                    </div>
                    <div class="mb-3">
                      <label for="request-title" class="form-label">Título</label>
                      <input type="text" id="request-title" class="form-control" maxlength="100" required>
                    </div>
                    <div class="mb-3">
                      <label for="request-message" class="form-label">Mensagem</label>
                      <textarea id="request-message" class="form-control" rows="3" required></textarea>
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Enviar</button>
                  </div>
                </form>
              </div>
            </div>

            <div class="modal fade" id="filterTripsModal" tabindex="-1" aria-labelledby="filterTripsModalLabel" aria-hidden="true">
              <div class="modal-dialog modal-dialog-centered">
                <form id="filter-trips-form" class="modal-content">
                  <div class="modal-header">
                    <h5 class="modal-title" id="filterTripsModalLabel">Filtrar Viagens</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Fechar"></button>
                  </div>
                  <div class="modal-body">
                    <div class="mb-3">
                      <label for="filter-trip-route-name" class="form-label">Nome da Rota</label>
                      <input type="text" id="filter-trip-route-name" class="form-control" placeholder="Ex: Linha Azul">
                    </div>
                    <div class="mb-3">
                      <label for="filter-trip-vehicle-plate" class="form-label">Matrícula do Veículo</label>
                      <input type="text" id="filter-trip-vehicle-plate" class="form-control" placeholder="Ex: AA-00-BB">
                    </div>
                    <div class="mb-3">
                      <label for="filter-trip-alt-text" class="form-label">Texto do Trajeto Alternativo</label>
                      <input type="text" id="filter-trip-alt-text" class="form-control" placeholder="Ex: via centro">
                    </div>
                  </div>
                  <div class="modal-footer">
                    <button type="submit" class="btn btn-primary">Filtrar</button>
                  </div>
                </form>
              </div>
            </div>            
        </div>
    </main>

    <script type="module" src="../js/loadDashboardCondutor.js"></script>
</body>
</html>